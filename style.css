/* styles.css */
:root{
  --bg:#0b0b0d;
  --ink:#e5e5e5;
  --ink-dim:#bdbdbd;
  --accent:#d1d1d1;
  --scan:rgba(255,255,255,0.06);
  --grain:rgba(255,255,255,0.035);
  --shadow:rgba(0,0,0,0.9);
  --btn:#111214;
  --btn-edge:#2a2b2e;
  --btn-text:#dcdcdc;
  --danger:#ff2d2d;
  --success:#70ff9f;
}

*,
*::before,
*::after{ box-sizing:border-box; }

html,body{
  height:100%;
  background:var(--bg);
  color:var(--ink);
  margin:0;
  font-family:'IBM Plex Mono', ui-monospace, 'SFMono-Regular', Menlo, Consolas, 'Courier New', monospace;
  letter-spacing:0.02em;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

body.black{ background:#000; }

.app{
  position:relative;
  height:100%;
  overflow:hidden;
}

.screen{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  transition:opacity .18s linear, visibility 0s linear .18s;
  opacity:0;
  visibility:hidden;
}

.screen.active{
  opacity:1;
  visibility:visible;
  transition:opacity .18s linear, visibility 0s;
}

.screen-start .frame{
  position:relative;
  width:min(960px, 92vw);
  height:min(540px, 78vh);
  border:1px solid #1a1a1a;
  border-radius:12px;
  background:radial-gradient(120% 90% at 50% 50%, #101114 0%, #0b0b0d 60%, #050507 100%);
  box-shadow:0 0 0 2px #000 inset, 0 24px 60px rgba(0,0,0,0.8);
  overflow:hidden;
}

.header{
  position:absolute;
  top:0; left:0; right:0;
  display:grid;
  place-items:center;
  padding-top:32px;
  z-index:4;
}

.title-glitch{
  position:relative;
  font-size:clamp(28px, 7vw, 84px);
  line-height:1;
  text-transform:uppercase;
  letter-spacing:.08em;
  color:#dcdcdc;
  text-shadow:0 0 12px rgba(255,255,255,0.12);
  mix-blend-mode:screen;
  filter:contrast(115%);
}

.title-glitch::before,
.title-glitch::after,
.title-glitch > span:nth-child(1),
.title-glitch > span:nth-child(2){
  content:attr(data-text);
  position:absolute;
  inset:0;
  pointer-events:none;
}

.title-glitch > span:nth-child(1){
  transform:translate3d(1px,0,0);
  clip-path:inset(0 0 52% 0);
  color:#f0f0f0;
  opacity:.7;
  animation:glitchShift 2.2s infinite cubic-bezier(.25,.46,.45,.94);
}

.title-glitch > span:nth-child(2){
  transform:translate3d(-1px,0,0);
  clip-path:inset(52% 0 0 0);
  color:#bfbfbf;
  opacity:.7;
  animation:glitchShift2 2.6s infinite cubic-bezier(.25,.46,.45,.94);
}

.title-glitch::before{
  mix-blend-mode:lighten;
  filter:blur(.6px) contrast(110%);
  opacity:.4;
  animation:scanJitter 5s infinite steps(60);
}

.title-glitch::after{
  filter:saturate(0) contrast(120%);
  opacity:.3;
  animation:rgbSplit 1.8s infinite steps(40);
}

@keyframes glitchShift{
  0%{ transform:translate3d(1px,0,0) skewX(0deg); }
  10%{ transform:translate3d(2px,0,0) skewX(-2deg); }
  20%{ transform:translate3d(-1px,0,0) skewX(1deg); }
  30%{ transform:translate3d(3px,0,0) skewX(-1deg); }
  40%{ transform:translate3d(0,0,0) skewX(0); }
  50%{ transform:translate3d(2px,0,0) skewX(2deg); }
  60%{ transform:translate3d(-2px,0,0) skewX(-2deg); }
  70%{ transform:translate3d(1px,0,0) skewX(1deg); }
  80%{ transform:translate3d(-1px,0,0) skewX(-1deg); }
  100%{ transform:translate3d(0,0,0) skewX(0); }
}

@keyframes glitchShift2{
  0%{ transform:translate3d(-1px,0,0) skewX(0); }
  15%{ transform:translate3d(-3px,0,0) skewX(2deg); }
  25%{ transform:translate3d(1px,0,0) skewX(-1deg); }
  45%{ transform:translate3d(-2px,0,0) skewX(1deg); }
  60%{ transform:translate3d(0,0,0) skewX(0); }
  75%{ transform:translate3d(2px,0,0) skewX(-2deg); }
  100%{ transform:translate3d(0,0,0) skewX(0); }
}

@keyframes rgbSplit{
  0%,100%{ text-shadow:1px 0 0 #fff, -1px 0 0 #999; }
  50%{ text-shadow:-1px 0 0 #fff, 1px 0 0 #999; }
}

.scanline{
  position:absolute;
  inset:0;
  background:linear-gradient(to bottom, rgba(255,255,255,0.03) 0, rgba(0,0,0,0.0) 2px);
  background-size:100% 3px;
  opacity:.4;
  z-index:2;
  pointer-events:none;
  animation:scanSweep 8s linear infinite;
}

.scanline.strong{ opacity:.6; }

@keyframes scanSweep{
  0%{ background-position-y:0; }
  100%{ background-position-y:100%; }
}

.vignette{
  position:absolute;
  inset:-2%;
  pointer-events:none;
  background:
    radial-gradient(80% 80% at 50% 50%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.1) 60%, rgba(0,0,0,0.6) 100%),
    linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.4) 100%);
  mix-blend-mode:multiply;
  z-index:3;
}

.vignette.hard{
  background:
    radial-gradient(90% 90% at 50% 50%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.25) 55%, rgba(0,0,0,0.9) 100%);
}

.cta-area{
  position:absolute;
  inset:0;
  display:grid;
  place-items:end center;
  padding:40px;
  z-index:5;
}

.btn-void{
  appearance:none;
  background:
    linear-gradient(to bottom, #1b1c1f 0%, #0e0f12 100%);
  border:1px solid var(--btn-edge);
  color:var(--btn-text);
  text-transform:uppercase;
  letter-spacing:.14em;
  padding:16px 28px;
  border-radius:10px;
  cursor:pointer;
  box-shadow:
    0 1px 0 #2b2c2f inset,
    0 8px 24px rgba(0,0,0,0.6),
    0 0 0 2px rgba(255,255,255,0.03) inset;
  transform:translateY(0);
  transition:transform .06s ease, box-shadow .12s ease, filter .12s ease;
  font-weight:600;
}

.btn-void:active{
  transform:translateY(1px);
  box-shadow:
    0 0 0 #2b2c2f inset,
    0 4px 10px rgba(0,0,0,0.8),
    0 0 0 2px rgba(255,255,255,0.02) inset;
  filter:brightness(.95);
}

.btn-label{ display:inline-block; transform:translateY(1px); }

.statusbar{
  position:absolute;
  bottom:10px; left:14px; right:14px;
  display:flex; justify-content:space-between; align-items:center;
  z-index:5;
}

.led{
  width:10px; height:10px;
  border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #7cffd2, #0a0);
  box-shadow:0 0 18px rgba(84,255,175,0.4);
  opacity:.3;
}
.led-right{
  background:radial-gradient(circle at 30% 30%, #ff8a8a, #700);
  box-shadow:0 0 18px rgba(255,120,120,0.35);
}

.tv-noise{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  z-index:1;
  filter:grayscale(1) contrast(165%) brightness(0.65);
  opacity:.8;
  mix-blend-mode:screen;
}

.blackout{
  position:absolute;
  inset:0;
  background:#000;
  z-index:999;
  opacity:0;
  visibility:hidden;
  transition:none;
}

.blackout.active{
  opacity:1;
  visibility:visible;
}

.screen-question{
  display:grid;
  place-items:center;
  padding:24px;
  background:#000;
}

.question-wrap{
  width:min(760px, 92vw);
  display:grid;
  gap:18px;
  text-align:center;
}

.question{
  margin:0;
  font-size:clamp(18px, 3.8vw, 34px);
  font-weight:600;
  color:#eaeaea;
  text-shadow:0 0 10px rgba(255,255,255,0.06);
}

.answer-form{
  display:grid;
  grid-template-columns: 1fr auto;
  gap:12px;
  align-items:center;
  justify-content:center;
}

.answer-input{
  width:100%;
  padding:14px 16px;
  font:600 16px 'IBM Plex Mono', monospace;
  color:#ededed;
  background:#0c0c0c;
  border:1px solid #222;
  border-radius:10px;
  outline:none;
  transition:border-color .12s linear, box-shadow .12s linear;
  caret-color:#f5f5f5;
}

.answer-input:focus{
  border-color:#3a3a3a;
  box-shadow:0 0 0 3px rgba(255,255,255,0.04);
}

.answer-submit{
  padding:14px 18px;
  background:#121212;
  color:#d7d7d7;
  border:1px solid #2a2a2a;
  border-radius:10px;
  font-weight:700;
  text-transform:lowercase;
  letter-spacing:.12em;
  cursor:pointer;
}

.feedback{
  min-height:1.2em;
  color:#a6a6a6;
  font-size:14px;
}

.ambient-ui .noise-overlay{
  position:absolute;
  inset:0;
  background-image:
    repeating-conic-gradient(from 0deg, rgba(255,255,255,0.02) 0 2deg, rgba(0,0,0,0) 2deg 4deg);
  mix-blend-mode:overlay;
  opacity:.35;
  pointer-events:none;
  z-index:1;
}

/* Acessibilidade e utilidades */
.sr-only{
  position:absolute;
  width:1px;height:1px;
  padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;
}

/* Responsividade e proporções */
@media (max-width:560px){
  .screen-start .frame{
    height:min(520px, 84vh);
    border-radius:10px;
  }
  .cta-area{ padding:24px; }
  .title-glitch{ font-size:clamp(26px, 10vw, 56px); }
}

/* Decoração extra para densidade visual (não afeta UX) */
.decor{ position:fixed; inset:auto; pointer-events:none; opacity:.04; filter:blur(1px); }
.decor-a{ top:6%; left:4%; width:8px; height:8px; background:#fff; }
.decor-b{ top:12%; right:8%; width:6px; height:6px; background:#fff; }
.decor-c{ bottom:10%; left:12%; width:10px; height:10px; background:#fff; }
.decor-d{ bottom:18%; right:14%; width:7px; height:7px; background:#fff; }
.decor-e{ top:22%; left:28%; width:5px; height:5px; background:#fff; }
.decor-f{ top:30%; right:22%; width:9px; height:9px; background:#fff; }
.decor-g{ bottom:28%; left:34%; width:6px; height:6px; background:#fff; }
.decor-h{ bottom:36%; right:30%; width:8px; height:8px; background:#fff; }
.decor-i{ top:44%; left:18%; width:5px; height:5px; background:#fff; }
.decor-j{ top:52%; right:16%; width:6px; height:6px; background:#fff; }
.decor-k{ bottom:46%; left:22%; width:4px; height:4px; background:#fff; }
.decor-l{ bottom:54%; right:26%; width:5px; height:5px; background:#fff; }
.decor-m{ top:66%; left:14%; width:6px; height:6px; background:#fff; }
.decor-n{ top:74%; right:12%; width:7px; height:7px; background:#fff; }
.decor-o{ bottom:70%; left:10%; width:4px; height:4px; background:#fff; }

/* Canvas fallback invisível se desativado */
.no-canvas .tv-noise{ display:none; }
